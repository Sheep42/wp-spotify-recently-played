"use strict";!function(t){var a=t(document),e=t(window),n=t("#ds-spotify-recently-played-container"),o=t("#ds-spotify-recently-played-toggle"),r=t("#ds-spotify-recently-played"),s=t("#footer");function c(){var t=e.height()+e.scrollTop(),a=s.offset().top,o=t>=a?t-a-1:0;n.hasClass("expanded")||(o-=r.outerHeight()),0!==o&&(o+="px"),n.css({bottom:o})}a.ready(function(){n.css({bottom:-(r.outerHeight()+1)+"px"}),o.on("click",function(a){a.preventDefault();t(this);var o=e.height()+e.scrollTop(),c=s.offset().top,i=o>=c?o-c-1:0;n.hasClass("expanded")?(i-=r.outerHeight(),n.removeClass("expanded")):n.addClass("expanded"),0!==i&&(i+="px"),n.stop().animate({bottom:i})});var a=function(){var a={__srp_nonce:ajax_object.srp_get_track_info_nonce,action:"get_spotify_track_info"};t.post(ajax_object.ajax_url,a,function(a){!1===a.success&&(console.error(a.data.message),clearInterval(i),n.hide()),function(a){var e=r.find(".current-track"),n=e.find(".track");if(null==a)return void e.fadeOut(400,function(){n.html(""),c()});if(e.find(".track-id").val()==a.item.id)return;n.fadeOut(400,function(){n.html(o),n.show(),c(),n.hide(),n.fadeIn(400,function(){e.is(":visible")||(e.show(),c(),e.hide(),e.fadeIn())})});var o=function(a){var e='\n\t\t\t<input type="hidden" class="track-id" value="'.concat(a.id,'" />\n\t\t\t\n\t\t\t<div class="track-name">\n\t\t\t\t<a href="').concat(a.external_urls.spotify,'" target="_blank">').concat(a.name,'</a>\n\t\t\t</div>\n\n\t\t\t<div class="artist-name">\n\t\t\t\t<a href="').concat(a.artists[0].external_urls.spotify,'" target="_blank">').concat(a.artists[0].name,'</a>\n\t\t\t</div> &ndash; <div class="album-name">\n\t\t\t\t<a href="').concat(a.album.external_urls.spotify,'" target="_blank">').concat(a.album.name,"</a>\n\t\t\t</div>\n\t\t");void 0!==a.played_at&&(e+='\n\t\t\t<div class="played-at">'.concat(a.played_at,"</div>\n\t\t\t"));return t.parseHTML(e)}(a.item)}(JSON.parse(a.data).current_track)})},i=setInterval(a,1e3*10);a()}),e.on("scroll",c)}(jQuery);
//# sourceMappingURL=../maps/main.min.js.map
